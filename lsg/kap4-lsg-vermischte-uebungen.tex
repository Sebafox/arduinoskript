\documentclass[ngerman, 11pt]{scrreprt}

\usepackage{etoolbox}
\newtoggle{FOLIE}
\toggletrue{FOLIE}

\input{../src/package-config.tex}
\input{../src/symbols.tex}
\input{../src/commands.tex}	

\setlength{\parindent}{0cm}
\setcapindent{0.2cm}
\setlength{\footnotemargin}{0pt}


\begin{document}
	\setcounter{chapter}{4}
	\setcounter{section}{7}
	\setcounter{aufgabennummer}{8}
	\onehalfspacing
	
	\section{Vermischte Übungen - Lösungen}
	
	\begin{aufgabe} \emph{Variablen}
		\begin{enumerate}[label=\alph*),itemsep=0mm, parsep=0mm]
			\item Nenne Vorteile, die für die Verwendung von Variablen sprechen.
			\item Nenne drei Datentypen, die in Variablen abgespeichert werden können.
		\end{enumerate}
	\end{aufgabe}

	\bigskip
	\emph{Lösung:}
	
	Vorteile:
	\begin{itemize}
		\item Das Programm wird lesbarer und besser verständlich.
		\item Wenn der Wert einer Variablen geändert werden muss, kann dies an einer zentralen Stelle geschehen statt an vielen Stellen.
		\item Mit Variablen lässt sich rechnen - dadurch lassen sich effiziente Programmierstrukturen wie Schleifen nutzen.
	\end{itemize}
	
	Wir unterscheiden die Datentypen \emph{Zahl}, \emph{Zeichen} und \emph{Wahrheitswert}.
	
	\bigskip
	\begin{aufgabe} \emph{Schleifen}
		\medskip
		
		\begin{minipage}{0.6\textwidth}
			An allen Digitalpins des Arduino werden LEDs mit geeigneten Vorwiderständen angeschlossen. Dann wird das rechts abgebildete Programm ausgeführt.
			\begin{enumerate}[label=\alph*),itemsep=0mm, parsep=0mm]
				\item Erstelle eine Trace-Tabelle für einen Durchlauf der \button{Wiederhole fortlaufend}- Schleife.
				\item Nenne die Pin-Nummern der LEDs, die nach Durchlaufen dieses Programms einmal geleuchtet haben.
				\item Stelle das Programm als Struktogramm dar.
			\end{enumerate}
		\end{minipage}
		\hfill
		\begin{minipage}{0.38\textwidth}
			\centering
			\includegraphics[width=\textwidth]{../pics/programm-trace-uebung.png}
		\end{minipage}
	\end{aufgabe}
	\bigskip
	\emph{Lösung:}
	
	Die Zeilenzählung soll bei \enquote{wiederhole fortlaufend} mit 1 beginnen.
	
	\begin{multicols}{5}
		\begin{tabular}{l | c}
			\textbf{Zeile} & \textbf{pin} \\ \hline
			2 & 2 \\ \hline
			3 & 2 \\ \hline
			4 & 2 \\ \hline
			5 & 2 \\ \hline
			6 & 2 \\ \hline
			7 & 4 \\ \hline
		\end{tabular}
		\begin{tabular}{l|c}
			\textbf{Zeile} & \textbf{pin} \\ \hline
			3 & 4 \\ \hline
			4 & 4 \\ \hline
			5 & 4 \\ \hline
			6 & 4 \\ \hline
			7 & 6 \\ \hline
			3 & 6 \\ \hline
		\end{tabular}
		\begin{tabular}{l|c}
			\textbf{Zeile} & \textbf{pin} \\ \hline
			4 & 6 \\ \hline
			5 & 6 \\ \hline
			6 & 6 \\ \hline
			7 & 8 \\ \hline
			3 & 8 \\ \hline
			4 & 8 \\ \hline
		\end{tabular}
		\begin{tabular}{l|c}
			\textbf{Zeile} & \textbf{pin} \\ \hline
			5 & 8 \\ \hline
			6 & 8 \\ \hline
			7 & 10 \\ \hline
			3 & 10 \\ \hline
			4 & 10 \\ \hline
			5 & 10 \\ \hline
		\end{tabular}
		\begin{tabular}{l|c}
			\textbf{Zeile} & \textbf{pin} \\ \hline
			6 & 10 \\ \hline
			7 & 12 \\ \hline
			3 & 12 \\ \hline
			2 & 2 \\ \hline
			\dots & \dots \\\hline
		\end{tabular}
	\end{multicols}
	
	Aus der Trace-Tabelle geht hervor, dass die Pins mit den Nummern 2, 4, 6, 8 und 10 nach einem Durchlauf der \button{wiederhole fortlaufend}-Schleife einmal geleuchtet haben.
	
	Das Struktogramm sieht im wesentlichen genauso aus wie in der Block-Darstellung von mBlock.
	
	\bigskip
	\begin{aufgabe} \emph{Bitübertragung}
		
		Ein Programm ist 30 kB groß. Berechne, wie lange es bei einer Bitrate von 115200 Bit pro Sekunde dauert, das Programm auf den Arduino zu übertragen.
	\end{aufgabe}

	\bigskip
	\emph{Lösung:}
	
	\begin{align*}
		30\,\text{kB} = 30000 \,\text{B} &= 240000 \,\text{bit}\\
		240000 \,\text{bit} / 115200 \,\frac{\text{bit}}{\text{s}} &\approx 2\,\text{s}
	\end{align*}
	
	Die Übertragung dauert ca. 2 Sekunden.
	
	\bigskip
	\begin{aufgabe} \emph{Das Binärsystem und das Dezimalsystem}
		
		\begin{enumerate}[label=\alph*),itemsep=0mm, parsep=0mm]
			\item Übersetze vom Binär- ins Dezimalsystem.
			\begin{multicols}{3}
				\begin{enumerate}[label=(\arabic*)]
					\item $1001_2$
					\item $1010_2$
					\item $1111_2$
				\end{enumerate}
			\end{multicols}
			\item Übersetze vom Dezimal- ins Binärsystem.
			\begin{multicols}{3}
				\begin{enumerate}[label=(\arabic*)]
					\item 11
					\item 7
					\item 14
				\end{enumerate}
			\end{multicols}
		\end{enumerate}
	\end{aufgabe}
	
	\bigskip
	\emph{Lösung:}
	
	\begin{enumerate}[label=\alph*),itemsep=0mm, parsep=0mm]
		\item 
		\begin{multicols}{3}
			\begin{enumerate}[label=(\arabic*)]
				\item $1\cdot 8+0 \cdot 4 + 0\cdot 2+1\cdot 1= 9$
				\item $1\cdot 8+0 \cdot 4 + 1\cdot 2+0\cdot 1= 10$
				\item $1\cdot 8+1 \cdot 4 + 1\cdot 2+1\cdot 1= 15$
			\end{enumerate}
		\end{multicols}
		\item 		
			\begin{enumerate}[label=(\arabic*)]
				\item $11=1\cdot 8 + 0\cdot 4 + 1\cdot 2+1\cdot 1 = 1011_2$
				\item $7=1\cdot 4 + 1\cdot 2 + 1\cdot 1 = 111_2$
				\item $14=1\cdot 8+ 1\cdot 4+ 1\cdot 2 + 0\cdot 1 = 1110_2$
			\end{enumerate}
	\end{enumerate}
	
	\newpage
	\begin{aufgabe} \emph{Programme verstehen}
		
		\begin{minipage}{0.54\textwidth}
			Am Arduino wird an Pin 9 eine LED mit Vorwiderstand und an Pin 10 ein Piezo-Summer angebracht.
			\begin{enumerate}[label=\alph*),itemsep=0mm, parsep=0mm]
				\item Stelle das Programm als Struktogramm dar.
				\item Beschreibe die Wirkung des rechts abgebildeten Programms.
				\item Erkläre, wie man das Programm ändern müsste, damit die LED zwei Mal blinkt, bevor wieder der Piezo-Summer piept.
			\end{enumerate}
			\vspace{2\baselineskip}
		\end{minipage}
		\hfill
		\begin{minipage}{0.45\textwidth}
			\centering
			\includegraphics[width=\textwidth]{../pics/Uebung-Variablen-und-Schleifen.png}
		\end{minipage}
	\end{aufgabe}
	\bigskip
	
	\emph{Lösung:}
	
	Das Struktogramm kann selbst erstellt werden.
	
	Das Programm bewirkt, dass abwechselnd die LED blinkt und der Piezo-Summer piept.
	
	Man kann auf mehrere Arten erreichen, dass die LED zwei Mal blinkt, bevor der Piezo-Summer wieder piept:
	\begin{itemize}
		\item Das Blinken der LED wird in eine \button{wiederhole 2 mal}-Schleife gepackt.
		\item x wird immer um 1 geändert statt um 2. Dafür muss die Bedingung $x\leq y$ heißen (im Programm geht das über \button{\button{x < y} oder \button{x=y}}). Die Anzahl der Wiederholungen sollte dann nicht 4, sondern 3 oder 6 oder ein anderes Vielfaches von 3 sein.
		\item \dots
	\end{itemize}
	
	\bigskip
	\begin{aufgabe} \emph{Programm entwickeln}
		
		An allen Digitalpins des Arduino sind LEDs mit Vorwiderstand angeschlossen.	Für das folgende Programm ist bereits eine Variable namens \button{p} angelegt. 
		
		Entwickle ein Programm, das die LEDs an Pin 1 bis 5 [2,4,6,8] nacheinander zum Leuchten bringt und nach einer Sekunde wieder ausschaltet. Es leuchtet also immer nur eine LED zur selben Zeit. 
		
		\medskip
		\emph{Anforderungen:}
		\begin{itemize}[noitemsep]
			\item Das Programm soll als Struktogramm dargestellt werden.
			\item Es sollen so wenig Code-Wiederholungen wie möglich vorkommen (\emph{effizientes Programmieren}).
		\end{itemize}
		
		\emph{Befehle:}
		\begin{figure}[H]
			\centering
			\includegraphics[width=0.6\textwidth]{../pics/Uebung-Programm-entwickeln-Befehlssammlung.png}
		\end{figure}
	\end{aufgabe}
	
	\bigskip
	\emph{Lösung:}
	
	
	
	\begin{minipage}{0.49\textwidth}
		\centering
		Für die LEDs an Pin 1 bis 5:
		
		\begin{tikzpicture}
		\draw (0,0) rectangle (7,7);
		\draw (0.5,0) rectangle (7,6);
		\draw (0.5,5) rectangle (7,6);
		\draw (1,0) rectangle (7,4);
		\draw (1,3) rectangle (7,4);
		\draw (1,2) rectangle (7,3);
		\draw (1,1) rectangle (7,2);
		\node at (3.5,6.5) {wiederhole fortlaufend};
		\node at (3.5,5.5) {setze p auf 1};
		\node at (3.5,4.5) {wiederhole 5 mal};
		\node at (3.5,3.5) {setze Pin p auf HIGH};
		\node at (3.5,2.5) {warte 1 Sekunde};
		\node at (3.5,1.5) {setze Pin p auf LOW};
		\node at (3.5,0.5) {ändere p um 1};
		\end{tikzpicture}
		
		Alternativ:
		
		\begin{tikzpicture}
		\draw (0,0) rectangle (7,7);
		\draw (0.5,0) rectangle (7,6);
		\draw (0.5,5) rectangle (7,6);
		\draw (1,0) rectangle (7,4);
		\draw (1,3) rectangle (7,4);
		\draw (1,2) rectangle (7,3);
		\draw (1,1) rectangle (7,2);
		\node at (3.5,6.5) {wiederhole fortlaufend};
		\node at (3.5,5.5) {setze p auf 1};
		\node at (3.5,4.5) {wiederhole bis p = 6};
		\node at (3.5,3.5) {setze Pin p auf HIGH};
		\node at (3.5,2.5) {warte 1 Sekunde};
		\node at (3.5,1.5) {setze Pin p auf LOW};
		\node at (3.5,0.5) {ändere p um 1};
		\end{tikzpicture}
	\end{minipage}
	\hfill
	\begin{minipage}{0.49\textwidth}
		\centering
		
		Für die LEDs 2, 4, 6, 8:
		
		\begin{tikzpicture}
		\draw (0,0) rectangle (7,7);
		\draw (0.5,0) rectangle (7,6);
		\draw (0.5,5) rectangle (7,6);
		\draw (1,0) rectangle (7,4);
		\draw (1,3) rectangle (7,4);
		\draw (1,2) rectangle (7,3);
		\draw (1,1) rectangle (7,2);
		\node at (3.5,6.5) {wiederhole fortlaufend};
		\node at (3.5,5.5) {setze p auf 2};
		\node at (3.5,4.5) {wiederhole 4 mal};
		\node at (3.5,3.5) {setze Pin p auf HIGH};
		\node at (3.5,2.5) {warte 1 Sekunde};
		\node at (3.5,1.5) {setze Pin p auf LOW};
		\node at (3.5,0.5) {ändere p um 2};
		\end{tikzpicture}
		
		\vspace{13.5\baselineskip}
	\end{minipage}	
	
	
\end{document}